let PIECES={EMPTY:0,wP:1,wN:2,wB:3,wR:4,wQ:5,wK:6,bP:7,bN:8,bB:9,bR:10,bQ:11,bK:12},BRD_SQ_NUM=120,FILES={FILE_A:0,FILE_B:1,FILE_C:2,FILE_D:3,FILE_E:4,FILE_F:5,FILE_G:6,FILE_H:7,FILE_NONE:8},RANKS={RANK_1:0,RANK_2:1,RANK_3:2,RANK_4:3,RANK_5:4,RANK_6:5,RANK_7:6,RANK_8:7,RANK_NONE:8},COLOURS={WHITE:0,BLACK:1,BOTH:2},CASTLEBIT={WKCA:1,WQCA:2,BKCA:4,BQCA:8},SQUARES={A1:21,B1:22,C1:23,D1:24,E1:25,F1:26,G1:27,H1:28,A8:91,B8:92,C8:93,D8:94,E8:95,F8:96,G8:97,H8:98,NO_SQ:99,OFFBOARD:100},BOOL={FALSE:0,TRUE:1},MAXGAMEMOVES=2048,MAXPOSITIONMOVES=256,MAXDEPTH=64,INFINITE=3e4,MATE=29e3,PVENTRIES=1e4,FilesBrd=new Array(BRD_SQ_NUM),RanksBrd=new Array(BRD_SQ_NUM),START_FEN="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",PceChar=".PNBRQKpnbrqk",SideChar="wb-",RankChar="12345678",FileChar="abcdefgh";function FR2SQ(O,L){return 21+O+10*L}let SideKey,PieceBig=[BOOL.FALSE,BOOL.FALSE,BOOL.TRUE,BOOL.TRUE,BOOL.TRUE,BOOL.TRUE,BOOL.TRUE,BOOL.FALSE,BOOL.TRUE,BOOL.TRUE,BOOL.TRUE,BOOL.TRUE,BOOL.TRUE],PieceMaj=[BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.TRUE,BOOL.TRUE,BOOL.TRUE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.TRUE,BOOL.TRUE,BOOL.TRUE],PieceMin=[BOOL.FALSE,BOOL.FALSE,BOOL.TRUE,BOOL.TRUE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.TRUE,BOOL.TRUE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE],PieceVal=[0,100,325,325,550,1e3,5e4,100,325,325,550,1e3,5e4],PieceCol=[COLOURS.BOTH,COLOURS.WHITE,COLOURS.WHITE,COLOURS.WHITE,COLOURS.WHITE,COLOURS.WHITE,COLOURS.WHITE,COLOURS.BLACK,COLOURS.BLACK,COLOURS.BLACK,COLOURS.BLACK,COLOURS.BLACK,COLOURS.BLACK],PiecePawn=[BOOL.FALSE,BOOL.TRUE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.TRUE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE],PieceKnight=[BOOL.FALSE,BOOL.FALSE,BOOL.TRUE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.TRUE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE],PieceKing=[BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.TRUE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.TRUE],PieceRookQueen=[BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.TRUE,BOOL.TRUE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.TRUE,BOOL.TRUE,BOOL.FALSE],PieceBishopQueen=[BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.TRUE,BOOL.FALSE,BOOL.TRUE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.TRUE,BOOL.FALSE,BOOL.TRUE,BOOL.FALSE],PieceSlides=[BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.TRUE,BOOL.TRUE,BOOL.TRUE,BOOL.FALSE,BOOL.FALSE,BOOL.FALSE,BOOL.TRUE,BOOL.TRUE,BOOL.TRUE,BOOL.FALSE],KnDir=[-8,-19,-21,-12,8,19,21,12],RkDir=[-1,-10,1,10],BiDir=[-9,-11,11,9],KiDir=[-1,-10,1,10,-9,-11,11,9],DirNum=[0,0,8,4,4,8,8,0,8,4,4,8,8],PceDir=[0,0,KnDir,BiDir,RkDir,KiDir,KiDir,0,KnDir,BiDir,RkDir,KiDir,KiDir],LoopNonSlidePce=[PIECES.wN,PIECES.wK,0,PIECES.bN,PIECES.bK,0],LoopNonSlideIndex=[0,3],LoopSlidePce=[PIECES.wB,PIECES.wR,PIECES.wQ,0,PIECES.bB,PIECES.bR,PIECES.bQ,0],LoopSlideIndex=[0,4],PieceKeys=new Array(1680),CastleKeys=new Array(16),Sq120ToSq64=new Array(BRD_SQ_NUM),Sq64ToSq120=new Array(64);function RAND_32(){return Math.floor(255*Math.random()+1)<<23|Math.floor(255*Math.random()+1)<<16|Math.floor(255*Math.random()+1)<<8|Math.floor(255*Math.random()+1)}let Mirror64=[56,57,58,59,60,61,62,63,48,49,50,51,52,53,54,55,40,41,42,43,44,45,46,47,32,33,34,35,36,37,38,39,24,25,26,27,28,29,30,31,16,17,18,19,20,21,22,23,8,9,10,11,12,13,14,15,0,1,2,3,4,5,6,7];function SQ64(O){return Sq120ToSq64[O]}function SQ120(O){return Sq64ToSq120[O]}function PCEINDEX(O,L){return 10*O+L}function MIRROR64(O){return Mirror64[O]}let Kings=[PIECES.wK,PIECES.bK],CastlePerm=[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,13,15,15,15,12,15,15,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,7,15,15,15,3,15,15,11,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15];function FROMSQ(O){return 127&O}function TOSQ(O){return O>>7&127}function CAPTURED(O){return O>>14&15}function PROMOTED(O){return O>>20&15}let MFLAGEP=262144,MFLAGPS=524288,MFLAGCA=16777216,MFLAGCAP=507904,MFLAGPROM=15728640,NOMOVE=0;function SQOFFBOARD(O){return FilesBrd[O]==SQUARES.OFFBOARD?BOOL.TRUE:BOOL.FALSE}function HASH_PCE(O,L){GameBoard.posKey^=PieceKeys[120*O+L]}function HASH_CA(){GameBoard.posKey^=CastleKeys[GameBoard.castlePerm]}function HASH_SIDE(){GameBoard.posKey^=SideKey}function HASH_EP(){GameBoard.posKey^=PieceKeys[GameBoard.enPas]}let GameController={};GameController.EngineSide=COLOURS.BOTH,GameController.PlayerSide=COLOURS.BOTH,GameController.GameOver=BOOL.FALSE;let UserMove={};UserMove.from=SQUARES.NO_SQ,UserMove.to=SQUARES.NO_SQ;let DEBUG=!1;if(!DEBUG){window.console||(window.console={});let methods=["log","debug","warn","info"];for(let i=0;i<methods.length;i++)console[methods[i]]=function(){}}