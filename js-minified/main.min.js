function InitFilesRanksBrd(){let S=0,o=FILES.FILE_A,r=RANKS.RANK_1,a=SQUARES.A1;for(S=0;S<BRD_SQ_NUM;++S)FilesBrd[S]=SQUARES.OFFBOARD,RanksBrd[S]=SQUARES.OFFBOARD;for(r=RANKS.RANK_1;r<=RANKS.RANK_8;++r)for(o=FILES.FILE_A;o<=FILES.FILE_H;++o)a=FR2SQ(o,r),FilesBrd[a]=o,RanksBrd[a]=r}function InitHashKeys(){let S=0;for(S=0;S<1680;++S)PieceKeys[S]=RAND_32();for(SideKey=RAND_32(),S=0;S<16;++S)CastleKeys[S]=RAND_32()}function InitSq120To64(){let S=0,o=FILES.FILE_A,r=RANKS.RANK_1,a=SQUARES.A1,n=0;for(S=0;S<BRD_SQ_NUM;++S)Sq120ToSq64[S]=65;for(S=0;S<64;++S)Sq64ToSq120[S]=120;for(r=RANKS.RANK_1;r<=RANKS.RANK_8;++r)for(o=FILES.FILE_A;o<=FILES.FILE_H;++o)a=FR2SQ(o,r),Sq64ToSq120[n]=a,Sq120ToSq64[a]=n,n++}function InitBoardlets(){let S=0;for(S=0;S<MAXGAMEMOVES;++S)GameBoard.history.push({move:NOMOVE,castlePerm:0,enPas:0,fiftyMove:0,posKey:0});for(S=0;S<PVENTRIES;++S)GameBoard.PvTable.push({move:NOMOVE,posKey:0})}function InitBoardSquares(){let S,o,r=0,a=0,n=0,i=0;for(n=RANKS.RANK_8;n>=RANKS.RANK_1;n--)for(r=1^a,a^=1,S="rank"+(n+1),i=FILES.FILE_A;i<=FILES.FILE_H;i++)o='<div class="Square '+S+" file"+(i+1)+" "+(0==r?"Light":"Dark")+'"/>',r^=1,$("#Board").append(o)}function InitBoardSquares(){let S,o,r,a,n,i=1;for(r=RANKS.RANK_8;r>=RANKS.RANK_1;r--)for(i^=1,S="rank"+(r+1),a=FILES.FILE_A;a<=FILES.FILE_H;a++)n=0==i?"Light":"Dark",i^=1,o='<div class="Square '+S+" file"+(a+1)+" "+n+'"/>',$("#Board").append(o)}function StartTimer(duration,display){var timer=duration,minutes,seconds;setInterval((function(){minutes=parseInt(timer/60,10),seconds=parseInt(timer%60,10),minutes=minutes<10?"0"+minutes:minutes,seconds=seconds<10?"0"+seconds:seconds,display.textContent=minutes+":"+seconds,--timer<0&&(timer=duration)}),1e3)}function StartCountDown(){var tenMinutes=600,display;StartTimer(600,document.querySelector("#Timer"))}function init(){console.log("init() called"),InitFilesRanksBrd(),InitHashKeys(),InitSq120To64(),InitBoardlets(),InitMvvLva(),InitBoardSquares(),StartCountDown()}$((function(){init(),console.log("Main Init Called"),NewGame(START_FEN)}));